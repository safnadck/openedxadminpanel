{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Register Student for {{ course.display_name }} - {{ franchise.name }}</title>
    <link rel="stylesheet" href="{% static 'css/user_register_course.css' %}">
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
</head>
<body>

<header class="navbar">
    <a href="{% url 'application:homepage' %}" class="navbar-left">
        <img src="{% static 'images/tutorlogo.png' %}" alt="Tutor Logo" class="brand-logo">
    </a>

    <div class="user-panel">
        <span class="iconify profile" data-icon="iconamoon:profile-fill"></span>
        <span class="user-name">{{ user.username }}</span>

        <div class="dropdown-menu">
            <a href="{% url 'logout' %}" class="logout-link">Logout</a>
        </div>
    </div>
</header>

<aside class="sidebar-menu">
    <div class="menu-wrapper">

        <div class="menu-item">
            <a href="{% url 'application:franchise_list' %}" class="menu-link">
                <span class="iconify menu-icon" data-icon="fa-solid:school"></span>
                <span class="menu-text">Franchise</span>
            </a>
        </div>
        <div class="menu-item">
        <a href="" class="menu-link">
          <span class="iconify menu-icon" data-icon="ic:sharp-library-books"></span>
          <span class="menu-text">Courses</span>
        </a>
      </div>
        <div class="menu-item">
            <a href="{% url 'application:homepage' %}" class="menu-link">
                <span class="iconify menu-icon" data-icon="iconoir:reports-solid"></span>
                <span class="menu-text">Reports</span>
            </a>
        </div>
        <div class="menu-item">
            <a href="#" class="menu-link">
                <span class="iconify menu-icon" data-icon="mdi:cog"></span>
                <span class="menu-text">Settings</span>
            </a>
        </div>
    </div>
</aside>

<main class="page-content">
     <div class="register-wrapper">
      <div class="left-buttons">
        <a href="{% url 'application:batch_students' franchise.id batch.id %}" class="backbutton">
          <span class="iconify" data-icon="weui:back-filled" style="font-size: 20px;"></span>
        </a>
      </div>
    </div>
    <div class="form-card">
        <h2>Register Student for {{ batch }}</h2>

        <form method="POST">
            {% csrf_token %}

            <!-- Full Name -->
            <input type="text" name="full_name" placeholder="Full Name" value="{{ form.full_name.value|default_if_none:'' }}">

            <!-- Username -->
            <input type="text" name="username" placeholder="Username" value="{{ form.username.value|default_if_none:'' }}">

            <!-- Email -->
            <input type="email" name="email" placeholder="Email" value="{{ form.email.value|default_if_none:'' }}">

            <!-- Phone -->
            <input type="text" name="phone" placeholder="Phone Number" value="{{ form.phone.value|default_if_none:'' }}">

            <!-- Mailing Address -->
            <input type="text" name="mailing_address" placeholder="Address" value="{{ form.mailing_address.value|default_if_none:'' }}">

            <!-- Password -->
            <input type="password" name="password" placeholder="Password">

            <button type="submit">Register Student</button>
        </form>
    </div>
</main>
<script>
  const userPanel = document.querySelector('.user-panel');
  const dropdownMenu = document.querySelector('.dropdown-menu');

  // Toggle dropdown on click
  userPanel.addEventListener('click', function(event) {
    event.stopPropagation(); // prevent click from bubbling
    dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
  });

  // Close dropdown when clicking outside
  document.addEventListener('click', function() {
    dropdownMenu.style.display = 'none';
  });
</script>

</body>
</html>
